[platformio]
default_envs = server

[env:indicator]
platform = espressif32
board = esp32dev
framework = arduino
build_src_filter =
    +<indicator/*>
    -<server/*>
extra_scripts = pre:scripts/select_port.py
monitor_speed = 115200
monitor_filters = time
custom_location = 1-7
monitor_port = ${sysenv.PIO_MONITOR_PORT}


[env:server]
platform = espressif32
board = esp32dev
framework = arduino
build_src_filter =
    +<server/*>
    -<indicator/*>
extra_scripts = pre:scripts/select_port.py
monitor_speed = 115200
monitor_filters = time
custom_location = 1-9.3
monitor_port = ${sysenv.PIO_MONITOR_PORT}


[env:experiment]
platform = espressif32
board = esp32dev
framework = arduino

; default experiment folder
build_flags = -DEXPERIMENT_FOLDER=ultrasonic

build_src_filter =
  +<../experiments/${EXPERIMENT_FOLDER}/*>
  -<*>

extra_scripts = pre:scripts/select_port.py
monitor_speed = 115200
custom_location = 1-9.3
monitor_port = ${sysenv.PIO_MONITOR_PORT}
